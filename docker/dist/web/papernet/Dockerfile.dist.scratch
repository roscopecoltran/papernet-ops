FROM scratch
LABEL maintainer="rosco_pecoltran@msn.com"

ARG PAPERNET_PREFIX_PATH=${PAPERNET_PREFIX_PATH:-"/app"}
ARG PAPERNET_EXECUTABLE=${PAPERNET_EXECUTABLE:-"papernet_web"}

COPY ./bin/${PAPERNET_EXECUTABLE} ${PAPERNET_PREFIX_PATH}/${PAPERNET_EXECUTABLE}
ADD ./conf /app/conf/

VOLUME ["/app/data"]

WORKDIR /app
EXPOSE 1705

ENV PATH=/app:$PATH

ENTRYPOINT ["${PAPERNET_PREFIX_PATH}/${PAPERNET_EXECUTABLE}"]
